# SelectTranslate é¡¹ç›®è“å›¾

> ç‰ˆæœ¬ï¼šv1.0  
> æ›´æ–°ï¼š2025-01-20  
> çŠ¶æ€ï¼šè®¾è®¡é˜¶æ®µ

## ğŸ¯ é¡¹ç›®æ¦‚è§ˆ

### æ ¸å¿ƒä»·å€¼ä¸»å¼ 
æ›¿ä»£è…¾è®¯ç”µè„‘ç®¡å®¶çš„åˆ’è¯ç¿»è¯‘åŠŸèƒ½ï¼Œæä¾›è½»é‡ã€å¿«é€Ÿã€éšç§å®‰å…¨çš„æ¡Œé¢ç¿»è¯‘å·¥å…·ã€‚

### ç›®æ ‡ç”¨æˆ·
- å¼€å‘è€…ï¼šé˜…è¯»è‹±æ–‡æŠ€æœ¯æ–‡æ¡£
- å­¦ç”Ÿ/ç ”ç©¶è€…ï¼šå¤„ç†å¤–æ–‡èµ„æ–™
- åŠå…¬äººå‘˜ï¼šå¿«é€Ÿç†è§£é‚®ä»¶/ç½‘é¡µå†…å®¹

### æˆåŠŸæŒ‡æ ‡
- ç¿»è¯‘å“åº”æ—¶é—´ â‰¤ 1.5s
- å†…å­˜å ç”¨ â‰¤ 20MB
- å¯åŠ¨æ—¶é—´ â‰¤ 0.5s
- å‰ªè´´æ¿æ¢å¤æˆåŠŸç‡ â‰¥ 99%

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SelectTranslate                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI Layer (egui/eframe)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Popup Window  â”‚  â”‚    Settings Window          â”‚   â”‚
â”‚  â”‚   - æ˜¾ç¤ºè¯‘æ–‡    â”‚  â”‚    - è¯­è¨€è®¾ç½®               â”‚   â”‚
â”‚  â”‚   - å¤åˆ¶/å…³é—­   â”‚  â”‚    - API Key ç®¡ç†           â”‚   â”‚
â”‚  â”‚   - é”™è¯¯æç¤º    â”‚  â”‚    - çƒ­é”®é…ç½®               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Business Logic Layer                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  HotkeyManager  â”‚  â”‚    TranslationService       â”‚   â”‚
â”‚  â”‚  - å…¨å±€çƒ­é”®ç›‘å¬ â”‚  â”‚    - DeepL/LibreTranslate   â”‚   â”‚
â”‚  â”‚  - äº‹ä»¶åˆ†å‘     â”‚  â”‚    - è¯­è¨€æ£€æµ‹               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    - ç¼“å­˜ç®¡ç†               â”‚   â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ClipboardManagerâ”‚  â”‚    ConfigManager            â”‚   â”‚
â”‚  â”‚  - æ–‡æœ¬å¤åˆ¶     â”‚  â”‚    - é…ç½®æŒä¹…åŒ–             â”‚   â”‚
â”‚  â”‚  - å†…å®¹ä¿æŠ¤     â”‚  â”‚    - é»˜è®¤å€¼ç®¡ç†             â”‚   â”‚
â”‚  â”‚  - çŠ¶æ€æ¢å¤     â”‚  â”‚    - é…ç½®æ ¡éªŒ               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  System Integration Layer                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Windows APIs   â”‚  â”‚    System Tray              â”‚   â”‚
â”‚  â”‚  - å…¨å±€é’©å­     â”‚  â”‚    - æ‰˜ç›˜å›¾æ ‡               â”‚   â”‚
â”‚  â”‚  - å‰ªè´´æ¿API    â”‚  â”‚    - å³é”®èœå•               â”‚   â”‚
â”‚  â”‚  - çª—å£å®šä½     â”‚  â”‚    - å¼€æœºè‡ªå¯               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆè¯¦è§£

### æ ¸å¿ƒä¾èµ–
```toml
[dependencies]
# UI æ¡†æ¶
egui = "0.24"                    # è½»é‡çº§å³æ—¶æ¨¡å¼ GUI
eframe = "0.24"                  # egui çš„æ¡†æ¶å°è£…

# ç³»ç»Ÿé›†æˆ
global-hotkey = "0.4"            # å…¨å±€çƒ­é”®ç›‘å¬
arboard = "3.2"                  # è·¨å¹³å°å‰ªè´´æ¿æ“ä½œ
windows = { version = "0.52", features = [
  "Win32_UI_WindowsAndMessaging",
  "Win32_Foundation",
  "Win32_UI_Accessibility",   # UI Automationï¼ˆé€‰ä¸­æ£€æµ‹ï¼‰
  "Win32_System_Com"          # COM åˆå§‹åŒ–
] }

# ç½‘ç»œå’Œåºåˆ—åŒ–
reqwest = { version = "0.11", features = ["json", "rustls-tls"] }
tokio = { version = "1.0", features = ["rt-multi-thread", "macros", "time"] }
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# å·¥å…·åº“
lru = "0.12"                     # LRU ç¼“å­˜
dirs = "5.0"                     # ç³»ç»Ÿç›®å½•è·å–
anyhow = "1.0"                   # é”™è¯¯å¤„ç†
log = "0.4"                      # æ—¥å¿—
env_logger = "0.10"              # æ—¥å¿—è¾“å‡º

# ç³»ç»Ÿæ‰˜ç›˜ï¼ˆå¯é€‰ï¼‰
tray-icon = "0.8"                # ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡
```

### é¡¹ç›®ç»“æ„
```
select-translate/
â”œâ”€â”€ Cargo.toml                   # é¡¹ç›®é…ç½®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs                  # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ app.rs                   # ä¸»åº”ç”¨é€»è¾‘
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â””â”€â”€ manager.rs           # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ translation/
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ service.rs           # ç¿»è¯‘æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ deepl.rs         # DeepL é›†æˆ
â”‚   â”‚   â”‚   â””â”€â”€ libretranslate.rs # LibreTranslate é›†æˆ
â”‚   â”‚   â””â”€â”€ cache.rs             # ç¿»è¯‘ç¼“å­˜
â”‚   â”œâ”€â”€ clipboard/
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â””â”€â”€ manager.rs           # å‰ªè´´æ¿ç®¡ç†
â”‚   â”œâ”€â”€ hotkey/
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â””â”€â”€ manager.rs           # çƒ­é”®ç®¡ç†
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ popup.rs             # å¼¹çª—ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ settings.rs          # è®¾ç½®ç•Œé¢
â”‚   â”‚   â””â”€â”€ theme.rs             # ä¸»é¢˜ç®¡ç†
â”‚   â”œâ”€â”€ system/
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ tray.rs              # ç³»ç»Ÿæ‰˜ç›˜
â”‚   â”‚   â””â”€â”€ startup.rs           # å¼€æœºè‡ªå¯
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ mod.rs
â”‚       â”œâ”€â”€ error.rs             # é”™è¯¯ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ logger.rs            # æ—¥å¿—é…ç½®
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ icon.ico                 # åº”ç”¨å›¾æ ‡
â”‚   â””â”€â”€ tray.png                 # æ‰˜ç›˜å›¾æ ‡
â”œâ”€â”€ build.rs                     # æ„å»ºè„šæœ¬
â””â”€â”€ docs/
    â”œâ”€â”€ README.md
    â”œâ”€â”€ CHANGELOG.md
    â””â”€â”€ API.md
```

---

## ğŸ“‹ å¼€å‘è®¡åˆ’

### ç¬¬1å‘¨ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆMVPï¼‰
- [x] é¡¹ç›®è„šæ‰‹æ¶æ­å»º
- [ ] HotkeyManager å®ç°
- [ ] ClipboardManager å®ç°
- [ ] åŸºç¡€ç¿»è¯‘æœåŠ¡ï¼ˆLibreTranslateï¼‰
- [ ] ç®€å•å¼¹çª— UI
- [ ] åŸºç¡€é”™è¯¯å¤„ç†

### ç¬¬2å‘¨ï¼šå®Œå–„åŠŸèƒ½
- [ ] DeepL API é›†æˆ
- [ ] é…ç½®ç®¡ç†ç³»ç»Ÿ
- [ ] è®¾ç½®ç•Œé¢
- [ ] ç¿»è¯‘ç¼“å­˜
- [ ] ç³»ç»Ÿæ‰˜ç›˜é›†æˆ

### ç¬¬3å‘¨ï¼šä¼˜åŒ–å’Œæµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### ç¬¬4å‘¨ï¼šå‘å¸ƒå‡†å¤‡
- [ ] æ‰“åŒ…ä¼˜åŒ–
- [ ] æ–‡æ¡£å®Œå–„
- [ ] å®‰è£…åŒ…åˆ¶ä½œ
- [ ] è‡ªåŠ¨æ›´æ–°æœºåˆ¶
- [ ] Beta ç‰ˆæœ¬å‘å¸ƒ

---

## ğŸ¯ è´¨é‡æ ‡å‡†

### æ€§èƒ½æŒ‡æ ‡
- å¯åŠ¨æ—¶é—´: â‰¤ 500ms
- å†…å­˜å ç”¨: â‰¤ 20MB
- ç¿»è¯‘å»¶è¿Ÿ: â‰¤ 1500ms
- CPU å ç”¨: ç©ºé—²æ—¶ < 1%

### ç¨³å®šæ€§æŒ‡æ ‡
- å‰ªè´´æ¿æ¢å¤æˆåŠŸç‡: â‰¥ 99%
- çƒ­é”®å“åº”æˆåŠŸç‡: â‰¥ 99.9%
- è¿ç»­è¿è¡Œæ—¶é—´: â‰¥ 7å¤©æ— å´©æºƒ
- å†…å­˜æ³„æ¼: 24å°æ—¶å†…å¢é•¿ < 5MB

### å…¼å®¹æ€§è¦æ±‚
- Windows 10/11 x64
- DPI ç¼©æ”¾: 100%-300%
- å¤šæ˜¾ç¤ºå™¨æ”¯æŒ
- å„ç§åº”ç”¨ç¨‹åºå…¼å®¹ï¼ˆChromeã€VS Codeã€Wordç­‰ï¼‰ 